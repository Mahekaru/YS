@model YardSale.Models.MapModel

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<script>
    function myMap() {
        var mapProp = {
            center: new google.maps.LatLng(@Model.Latitude,@Model.Longitude),
            zoom: 5,
        };
        var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
        var marker = new google.maps.Marker({ position: mapProp.center });
        marker.setMap(map);
    }
</script>


@using (Html.BeginForm("Index", "Map", FormMethod.Post))
{
    <div class="row">
        <div class="col-sm-12">
            <div class="row">
                <div class="col-sm-12">
                    @Html.TextBoxFor(m => m.Address)
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <button type="submit">Submit</button>
                </div>
            </div>
        </div>
    </div>
}

<div id="googleMap" style="width:100%;height:400px; background-color:red"></div>
<script src="@Model.GetAPIKey()"></script>

